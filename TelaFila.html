<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de Atendimentos</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Barra superior -->
  <header class="top-bar">
    <div class="gov-logo">
    <img src="img/LOGO.png" alt="Logo do SICA">
    <span>SICA</span>
</div>
    <nav>
      <a href="#">PRIVACIDADE</a>
      <a href="#">SOBRE</a>
    </nav>
    <div class="user-info">
  <div class="user-name">
    <span>Adrielly dos Reis Carvalhedo</span><br>
    <small>Sistema Integrado de Crian√ßas Acolidas | EMULTI</small>
  </div>
  <!-- Menu oculto -->
  <div class="user-dropdown">
    <a href="#">Alterar senha</a>
    <a href="#">Sobre</a>
    <a href="#">Termos de uso</a>
    <a href="index.html">Sair</a>
  </div>
</div>

  </header>

  <main class="container">
    <!-- Menu lateral -->
<aside class="sidebar">
  <ul>
    <li><span>üë§</span><a href="TelaFila.html"><span class="label">Atendimentos</span></a></li>
    <li><span>üìã</span><a href="Cadastro.html"><span class="label">Cadastrar</span></a></li>
    <li><span>ü™™</span><a href="cidadao.html"><span class="label">Cidad√£o</span></a></li>
    <li><span>üë•</span><a href="filas.html"><span class="label">Filas</span></a></li>
     </ul>
</aside>


    <!-- Conte√∫do principal -->
    <section class="content">
      <h2>Lista de atendimentos</h2>

      <button class="btn-add">+ Adicionar cidad√£o</button>

      <div class="search-bar">
        <input type="text" placeholder="Pesquise por nome, CPF, CNS ou data de nascimento">
        <label>
          <input type="checkbox"> Ver somente os meus atendimentos
        </label>
        <div class="filters">
          <span>Ordenar por: <strong>Ordem de chegada</strong></span>
          <button class="btn-filter">Filtros (4)</button>
          <button class="btn-reset">Voltar para padr√£o</button>
        </div>
      </div>

      <p class="status-info">
        Status do atendimento: Aguardando atendimento, Em atendimento | <strong>Per√≠odo: Hoje</strong>
      </p>

      <!-- Lista de atendimentos -->
      <div class="list">
        <div class="item">
          <div class="time">08:13<br><small>Aguardando atendimento</small></div>
          <div class="patient">
            <strong>ALFREDO MODESTO DOS SANTOS</strong><br>
            <small>66 anos e 9 meses</small>
          </div>
          <div class="type">DEMANDA POR AGENDAMENTO</div>
          <div class="professional">Yago Rodrigues Cabral</div>
          <div class="actions">
 
  <div class="action-menu">
    <button class="menu-btn">‚ãÆ</button>
    <div class="menu-dropdown">
      <a href="#">Prontu√°rio</a>
      <a href="#">Editar</a>
      <a href="#">Excluir</a>
    </div>
  </div>
</div>

        </div>
      </div>

      <p class="results">1 resultado</p>
    </section>
  </main>

    <!----------------
  modal visualizar protuario
  ------------------>

  <div id="justificativaModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <div class="modal-header">
      <span class="modal-icon">‚ö†Ô∏è</span>
      <h3 class="modal-title">Justificativa para visualizar prontu√°rio</h3>
    </div>
    <p class="modal-text">√â obrigat√≥ria a apresenta√ß√£o de uma justificativa para visualizar o prontu√°rio.</p>

    <div class="modal-body">
      <label for="justificativaInput">Justificativa <span class="required">*</span></label>
      <textarea id="justificativaInput" rows="5" maxlength="500" placeholder="Digite sua justificativa aqui..."></textarea>
      <small id="charCount">0/500 caracteres</small>
    </div>

    <div class="modal-footer">
      <button id="cancelBtn" class="modal-btn cancel">Cancelar</button>
      <button id="saveBtn" class="modal-btn save">Salvar</button>
    </div>
  </div>
</div>

  <script src="script.js"></script>
<script>
    /*************************************************
 * modal tela cidadao para visualizar protuario
*************************************************/
    /*************************************************
 * modal tela cidadao para visualizar protuario
*************************************************/
  document.addEventListener("DOMContentLoaded", function() {
  const modal = document.getElementById("justificativaModal");
  // Seleciona tanto o bot√£o "Visualizar" quanto o link "Prontu√°rio"
  const openModalElements = document.querySelectorAll(".citizen-card .actions button, .citizen-card .actions .menu-dropdown a"); 
  const closeBtn = document.querySelector(".close-btn");
  const cancelBtn = document.getElementById("cancelBtn");
  const saveBtn = document.getElementById("saveBtn");
  const justificativaInput = document.getElementById("justificativaInput");
  const charCount = document.getElementById("charCount");
  
  // Fun√ß√£o para abrir o modal
  function openModal() {
    modal.style.display = "flex";
  }

  // Fun√ß√£o para fechar o modal
  function closeModal() {
    modal.style.display = "none";
  }

  // Adiciona evento de clique para cada elemento selecionado
  openModalElements.forEach(element => {
    element.addEventListener("click", function(event) {
      // Verifica se o texto do elemento √© "üîç Visualizar" ou "Prontu√°rio"
      if (element.textContent.includes("Visualizar") || element.textContent.includes("Prontu√°rio")) {
        event.preventDefault(); // Impede que o link de "Prontu√°rio" navegue para '#'
        openModal();
      }
    });
  });
  
  // Eventos para fechar o modal
  closeBtn.addEventListener("click", closeModal);
  cancelBtn.addEventListener("click", closeModal);
  
  // Fecha o modal se o usu√°rio clicar fora dele
  window.addEventListener("click", function(event) {
    if (event.target === modal) {
      closeModal();
    }
  });

  // Valida√ß√£o e a√ß√£o do bot√£o "Salvar"
  saveBtn.addEventListener("click", function() {
    if (justificativaInput.value.trim() === "") {
      alert("Por favor, adicione uma justificativa para continuar.");
      justificativaInput.focus();
    } else {
      alert("Justificativa salva com sucesso!");
      // Aqui voc√™ adicionaria a l√≥gica para redirecionar para o prontu√°rio
      // Exemplo: window.location.href = "prontuario.html";
      closeModal();
    }
  });

  // Contagem de caracteres em tempo real
  justificativaInput.addEventListener("input", function() {
    const currentLength = justificativaInput.value.length;
    charCount.textContent = `${currentLength}/500 caracteres`;
  });
});

</script>

</body>
</html>
